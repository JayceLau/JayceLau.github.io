<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[在OMS服务器上提取Management Agent·]]></title>
      <url>/2017/08/04/%E5%9C%A8OMS%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E6%8F%90%E5%8F%96Management-Agent/</url>
      <content type="html"><![CDATA[<h3 id="登录emcli"><a href="#u767B_u5F55emcli" class="headerlink" title="登录emcli"></a>登录emcli</h3><p><code>emcli login -username=sysman</code><br>过程参考如下：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[oracle<span class="variable">@emcc</span> agent]<span class="variable">$ </span>emcli login -username=sysman</div><div class="line">Enter password :</div><div class="line">Login successful</div></pre></td></tr></table></figure></p>
<h3 id="提取agent"><a href="#u63D0_u53D6agent" class="headerlink" title="提取agent"></a>提取agent</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">emcli get_agentimage <span class="attribute">-destination</span>=/home/oracle/agent <span class="attribute">-platform</span>=<span class="string">"Linux x86-64"</span> <span class="attribute">-version</span>=13.2.0.0.0</div></pre></td></tr></table></figure>
<p>过程参考如下：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[oracle<span class="meta">@emcc</span> agent]$ emcli get_agentimage -destination=<span class="regexp">/home/</span>oracle/agent -platform=<span class="string">"Linux x86-64"</span> -version=<span class="number">13.2</span><span class="number">.0</span><span class="number">.0</span><span class="number">.0</span></div><div class="line"> === Partition Detail ===</div><div class="line">Space <span class="string">free :</span> <span class="number">31</span> GB</div><div class="line">Space <span class="string">required :</span> <span class="number">1</span> GB</div><div class="line">Check the logs at <span class="regexp">/u01/</span>app<span class="regexp">/emcc/</span>gc_inst<span class="regexp">/em/</span>EMGC_OMS1<span class="regexp">/sysman/</span>emcli<span class="regexp">/setup/</span>.emcli/get_agentimage_2017<span class="number">-08</span><span class="number">-04</span>_13<span class="number">-55</span><span class="number">-30</span>-PM.log</div><div class="line">Downloading <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span><span class="number">13.2</span><span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>_AgentCore_226.zip</div><div class="line">File saved <span class="keyword">as</span> <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span><span class="number">13.2</span><span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>_AgentCore_226.zip</div><div class="line">Downloading <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span><span class="number">13.2</span><span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>_Plugins_226.zip·</div><div class="line">File saved <span class="keyword">as</span> <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span><span class="number">13.2</span><span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>_Plugins_226.zip</div><div class="line">Downloading <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span>unzip</div><div class="line">File saved <span class="keyword">as</span> <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span>unzip</div><div class="line">Executing <span class="string">command:</span> <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span>unzip <span class="regexp">/home/</span>oracle<span class="regexp">/agent/</span><span class="number">13.2</span><span class="number">.0</span><span class="number">.0</span><span class="number">.0</span>_Plugins_226.zip -d <span class="regexp">/home/</span>oracle/agent</div><div class="line">Exit status <span class="string">is:</span><span class="number">0</span></div><div class="line">Agent Image Download completed successfully.</div></pre></td></tr></table></figure></p>
<h3 id="安装agent"><a href="#u5B89_u88C5agent" class="headerlink" title="安装agent"></a>安装agent</h3><p>将提取出来的agent上传至目标服务器，并解压、安装<br>过程参考如下：·<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd /u01/software</div><div class="line">unzip 13.2.0.0.0_AgentCore_226.zip</div><div class="line">./agentDeploy.sh <span class="attribute">AGENT_BASE_DIR</span>=/u01/app/emcc/agent <span class="attribute">OMS_HOST</span>=foo.bar.com <span class="attribute">EM_UPLOAD_PORT</span>=4903 <span class="attribute">LOG_DIR</span>=/home/oracle/logs</div></pre></td></tr></table></figure></p>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> EMCC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle RAC 12cR2安装手册(5)--数据库实例的创建]]></title>
      <url>/2017/07/11/Oracle-RAC-12cR2%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C-5-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%88%9B%E5%BB%BA/</url>
      <content type="html"><![CDATA[<p>在node01上执行<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">dbca</span></div></pre></td></tr></table></figure></p>
<img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-0.png" alt="database-instance-creation" title="database-instance-creation">
<p>创建一个数据库→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-1.png" alt="database-instance-creation" title="database-instance-creation"><br>高级配置→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-2.png" alt="database-instance-creation" title="database-instance-creation"><br>选择自定义数据库→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-3.png" alt="database-instance-creation" title="database-instance-creation"><br>选择所有节点→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-4.png" alt="database-instance-creation" title="database-instance-creation"><br>设置全局数据库名和SID前缀，选择创建空白容器数据库→下一步👆🏻</p>
<blockquote>
<p>注：<br>  此处的SID前缀需要与环境变量里的ORACLE_SID对应：<br>    例如，SID前缀设置orcl，ORACLE_SID需要设置为orcl1和orcl2。</p>
</blockquote>
<img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-5.png" alt="database-instance-creation" title="database-instance-creation">
<p>选择ASM存储类型并选择DATA磁盘组→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-6.png" alt="database-instance-creation" title="database-instance-creation"><br>启用快速闪回去，并选择DATA磁盘组，大小设置为5120M→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-6-1.png" alt="database-instance-creation" title="database-instance-creation"><br>确定继续👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-7.png" alt="database-instance-creation" title="database-instance-creation"><br>默认→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-8.png" alt="database-instance-creation" title="database-instance-creation"><br>选择自动共享内存管理，并设置Memory Target约为物理内存的80%👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-9.png" alt="database-instance-creation" title="database-instance-creation"><br>块大小设置为32768B，进程数设置为1500👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-10.png" alt="database-instance-creation" title="database-instance-creation"><br>字符集选择AL32UTF8👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-11.png" alt="database-instance-creation" title="database-instance-creation"><br>连接模式选择专用服务器模式→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-12.png" alt="database-instance-creation" title="database-instance-creation"><br>确认继续→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-13.png" alt="database-instance-creation" title="database-instance-creation"><br>不配置EM→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-14.png" alt="database-instance-creation" title="database-instance-creation"><br>使用统一密码→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-15.png" alt="database-instance-creation" title="database-instance-creation"><br>创建数据库→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-16.png" alt="database-instance-creation" title="database-instance-creation"><br>再次确认继续👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-17.png" alt="database-instance-creation" title="database-instance-creation"><br>执行先决条件检查👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-18.png" alt="database-instance-creation" title="database-instance-creation"><br>忽略全部→下一步👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-19.png" alt="database-instance-creation" title="database-instance-creation"><br>确认继续👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-20.png" alt="database-instance-creation" title="database-instance-creation"><br>完成👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-21.png" alt="database-instance-creation" title="database-instance-creation"><br>创建进行中👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-22.png" alt="database-instance-creation" title="database-instance-creation"><br>创建完成→关闭👆🏻<br>分别在node01和node02上执行<code>lsnrctl status</code>查看实例运行状态👇🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-23.png" alt="database-instance-creation" title="database-instance-creation"><br>node01状态正常👆🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-24.png" alt="database-instance-creation" title="database-instance-creation"><br>node02状态正常👆🏻<br>执行<code>sqlplus / as sysdba</code>登录数据库👇🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-25.png" alt="database-instance-creation" title="database-instance-creation"><br>登录成功👆🏻<br>执行<code>show pdbs</code>查看PDB状态👇🏻<br><img src="/2017/07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/database-instance-creation-26.png" alt="database-instance-creation" title="database-instance-creation"><br>可以看到一个种子PDB👆🏻<br>至此，完成了数据库实例的创建。</p>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> RAC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle RAC 12cR2安装手册(4)--数据库软件的安装]]></title>
      <url>/2017/07/07/Oracle-RAC-12cR2%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C-4-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85/</url>
      <content type="html"><![CDATA[<p>在node01上执行<br>使用oracle用户登录node01<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> <span class="string">/u01/software/database/</span></div><div class="line"><span class="string">./runInstaller</span></div></pre></td></tr></table></figure></p>
<p>安装过程如下<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-0.png" alt="database-software-installation" title="database-software-installation"><br>取消勾选安全更新→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-1.png" alt="database-software-installation" title="database-software-installation"><br>确认不接收安全问题的通知👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-2.png" alt="database-software-installation" title="database-software-installation"><br>只安装数据库软件→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-3.png" alt="database-software-installation" title="database-software-installation"><br>RAC数据库安装→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-4.png" alt="database-software-installation" title="database-software-installation"><br>选择所有节点→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-5.png" alt="database-software-installation" title="database-software-installation"><br>选择企业版→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-6.png" alt="database-software-installation" title="database-software-installation"><br>确定安装目录→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-7.png" alt="database-software-installation" title="database-software-installation"><br>确认操作系统用户组→下一步👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-8.png" alt="database-software-installation" title="database-software-installation"><br>执行先决条件检查👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-9.png" alt="database-software-installation" title="database-software-installation"><br>同样忽略全部👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-10.png" alt="database-software-installation" title="database-software-installation"><br>确认继续👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-11.png" alt="database-software-installation" title="database-software-installation"><br>安装👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-12.png" alt="database-software-installation" title="database-software-installation"><br>安装进行中👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-13.png" alt="database-software-installation" title="database-software-installation"><br>依次在node01和node02上执行<code>/u01/app/oracle/product/12.2.0/dbhome_1/root.sh</code>👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-14.png" alt="database-software-installation" title="database-software-installation"><br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-15.png" alt="database-software-installation" title="database-software-installation"><br>执行完毕👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-16.png" alt="database-software-installation" title="database-software-installation"><br>OK👆🏻<br><img src="/2017/07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/database-software-installation-17.png" alt="database-software-installation" title="database-software-installation"><br>关闭👆🏻<br>至此，完成了数据库软件的安装。<br>下一篇<a href="../../../07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/">Oracle RAC 12cR2安装手册(5)–数据库实例的创建</a></p>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> RAC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle RAC 12cR2安装手册(3)--网格基础设施的安装]]></title>
      <url>/2017/07/05/Oracle-RAC-12cR2%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C-3-%E7%BD%91%E6%A0%BC%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E7%9A%84%E5%AE%89%E8%A3%85/</url>
      <content type="html"><![CDATA[<blockquote>
<p>注：<br>除特殊注明外，本文所有命令均使用root用户执行。</p>
</blockquote>
<h3 id="安装cvu"><a href="#u5B89_u88C5CVU" class="headerlink" title="安装CVU"></a>安装CVU</h3><p>node01上执行<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /u01/app/<span class="number">12.2</span><span class="number">.0</span>/grid/cv/rpm/</div><div class="line">rpm -ivh cvuqdisk<span class="number">-1.0</span><span class="number">.10</span><span class="number">-1.</span>rpm</div></pre></td></tr></table></figure></p>
<p>在node01上检查<br>使用grid用户登录node01或切换至grid用户<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> /u01/app/<span class="number">12.2</span>.<span class="number">0</span>/grid/</div><div class="line">./runcluvfy.<span class="keyword">sh</span> stage -<span class="keyword">pre</span> crsinst -n node01,node02 -fixup -<span class="keyword">verbose</span></div></pre></td></tr></table></figure></p>
<img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-cvu-0.png" alt="grid-infrastructure-cvu" title="grid-infrastructure-cvu">
<p>按照提示,在node02上执行修复脚本<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/tmp/CVU_12<span class="number">.2</span><span class="number">.0</span><span class="number">.1</span><span class="number">.0</span>_grid/runfixup.sh</div></pre></td></tr></table></figure></p>
<p>执行完后，回车👇🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-cvu-1.png" alt="grid-infrastructure-cvu" title="grid-infrastructure-cvu"><br>修复成功👆🏻</p>
<h3 id="安装网格基础设施"><a href="#u5B89_u88C5_u7F51_u683C_u57FA_u7840_u8BBE_u65BD" class="headerlink" title="安装网格基础设施"></a>安装网格基础设施</h3><p>在node01上执行<br>使用grid用户登录node01或切换至grid用户<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> <span class="string">/u01/app/12.2.0/grid/</span></div><div class="line"><span class="string">./gridSetup.sh</span></div></pre></td></tr></table></figure></p>
<p>安装过程如下</p>
<blockquote>
<p>注：<br>1、本安装实验使用笔记本进行，部分条件无法满足，不影响使用，直接忽略即可；<br>2、安装前需保证node02上ORACLE_BASE和ORACLE_HOME目录为空，如果报错，可以手动清理掉。</p>
</blockquote>
<img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-0.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation">
<p>为新集群配置网格基础设施→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-1.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>配置一个独立的集群→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-2.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>输入集群名称、SCAN名称（需要与hosts配置的一致）和SCAN端口（默认1521）→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-3.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>添加新节点👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-4.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>输入node02的信息→OK👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-5.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>添加完成→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-6.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>指定网卡用途→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-7.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>使用块设备配置ASM→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-8.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>不为GIMR配置单独的ASM磁盘组→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-9.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>命名磁盘组为OCR_VOT_GIMR，选择外部冗余，修改探索目录→OK👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-10.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>选择OCR_VOT_GIMR→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-11.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>使用统一密码→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-12.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>不使用IPMI→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-13.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>不注册EMCloud→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-14.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>默认→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-15.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>默认→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-16.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>输入root用户密码，自动运行配置脚本→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-17.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>执行先决条件检查👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-18.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>忽略全部→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-19.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>确认继续👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-20.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>安装→下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-21.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>安装进行中👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-22.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>确认使用root执行脚本👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-23.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>集群校验失败，确认即可👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-24.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>下一步👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-25.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>确认继续👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-installation-26.png" alt="grid-infrastructure-installation" title="grid-infrastructure-installation"><br>关闭👆🏻<br>使用grid用户分别在node01和node02上执行<code>crs_stat -v -t</code>查看服务运行状态👇🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-check-0.png" alt="grid-infrastructure-check" title="grid-infrastructure-check"><br>node01👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/grid-infrastructure-check-1.png" alt="grid-infrastructure-check" title="grid-infrastructure-check"><br>node02👆🏻</p>
<blockquote>
<p>注：<br>    部分服务处于OFFLINE状态，可以忽略。</p>
</blockquote>
<h3 id="创建其他磁盘组"><a href="#u521B_u5EFA_u5176_u4ED6_u78C1_u76D8_u7EC4" class="headerlink" title="创建其他磁盘组"></a>创建其他磁盘组</h3><p>使用grid用户登录node01或切换至grid用户执行<code>asmca</code><br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/asm-disk-group-creation-0.png" alt="asm-disk-group-creation" title="asm-disk-group-creation"><br>欢迎界面👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/asm-disk-group-creation-1.png" alt="asm-disk-group-creation" title="asm-disk-group-creation"><br>选择磁盘组→创建👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/asm-disk-group-creation-2.png" alt="asm-disk-group-creation" title="asm-disk-group-creation"><br>创建DATA磁盘，选择外部冗余，选择DATA磁盘→OK👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/asm-disk-group-creation-3.png" alt="asm-disk-group-creation" title="asm-disk-group-creation"><br>创建中👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/asm-disk-group-creation-4.png" alt="asm-disk-group-creation" title="asm-disk-group-creation"><br>创建完成→退出👆🏻<br><img src="/2017/07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/asm-disk-group-creation-5.png" alt="asm-disk-group-creation" title="asm-disk-group-creation"><br>确认退出👆🏻<br>至此，完成了网格基础设施的安装。<br>下一篇<a href="../../../07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/">Oracle RAC 12cR2安装手册(4)–数据库软件的安装</a></p>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> RAC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle Linux下安装ASMLIB]]></title>
      <url>/2017/07/04/Oracle-Linux%E4%B8%8B%E5%AE%89%E8%A3%85ASMLIB/</url>
      <content type="html"><![CDATA[<h3 id="关于asmlib"><a href="#u5173_u4E8EASMLIB" class="headerlink" title="关于ASMLIB"></a>关于ASMLIB</h3><p>Oracle ASMLIB（Oracle Automatic Storage Management library）是一个ASM的支持库，它使Oracle数据库可以更加有效地读写磁盘。</p>
<h3 id="安装asmlib"><a href="#u5B89_u88C5ASMLIB" class="headerlink" title="安装ASMLIB"></a>安装ASMLIB</h3><h4 id="启用public_ol6_u3_base仓库"><a href="#u542F_u7528public_ol6_u3_base_u4ED3_u5E93" class="headerlink" title="启用public_ol6_u3_base仓库"></a>启用public_ol6_u3_base仓库</h4><p>编辑/etc/yum.repos.d/public-yum-ol6.repo文件<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /etc/yum<span class="selector-class">.repos</span><span class="selector-class">.d</span>/public-yum-ol6.repo</div></pre></td></tr></table></figure></p>
<p>找到<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="section">[public_ol6_u3_base]</span></div><div class="line"><span class="attr">name</span>=Oracle Linux <span class="variable">$releasever</span> Update <span class="number">3</span> installation media copy (<span class="variable">$basearch</span>)</div><div class="line"><span class="attr">baseurl</span>=http://yum.oracle.com/repo/OracleLinux/OL6/<span class="number">3</span>/base/<span class="variable">$basearch</span>/</div><div class="line"><span class="attr">gpgkey</span>=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-oracle</div><div class="line"><span class="attr">gpgcheck</span>=<span class="number">1</span></div><div class="line"><span class="attr">enabled</span>=<span class="number">0</span></div></pre></td></tr></table></figure></p>
<p>设置为启用<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">enabled</span>=<span class="number">1</span></div></pre></td></tr></table></figure></p>
<h4 id="安装依赖包"><a href="#u5B89_u88C5_u4F9D_u8D56_u5305" class="headerlink" title="安装依赖包"></a>安装依赖包</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y <span class="keyword">install </span><span class="keyword">oracleasm </span><span class="keyword">oracleasm-support</span></div></pre></td></tr></table></figure>
<blockquote>
<p>注：<br>如果使用CentOS，需要安装与操作系统对应的版本。</p>
</blockquote>
<h3 id="配置oracleasm服务"><a href="#u914D_u7F6Eoracleasm_u670D_u52A1" class="headerlink" title="配置oracleasm服务"></a>配置oracleasm服务</h3><p>执行如下命令进行配置<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">oracleasm configure -i</span></div></pre></td></tr></table></figure></p>
<p>配置过程参考如下<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">This will configure the <span class="keyword">on</span>-boot properties <span class="keyword">of</span> the Oracle <span class="keyword">ASM</span> <span class="keyword">library</span></div><div class="line">driver.  The following questions will determine whether the driver <span class="keyword">is</span></div><div class="line">loaded <span class="keyword">on</span> boot <span class="keyword">and</span> what permissions it will have.  The current values</div><div class="line">will be shown <span class="keyword">in</span> brackets (<span class="string">'[]'</span>).  Hitting &lt;ENTER&gt; without typing an</div><div class="line">answer will keep that current value.  Ctrl-C will abort.</div><div class="line"><span class="keyword">Default</span> user <span class="keyword">to</span> own the driver <span class="keyword">interface</span> []: grid</div><div class="line"><span class="keyword">Default</span> group <span class="keyword">to</span> own the driver <span class="keyword">interface</span> []: asmadmin</div><div class="line">Start Oracle <span class="keyword">ASM</span> <span class="keyword">library</span> driver <span class="keyword">on</span> boot (y/n) [n]: y</div><div class="line">Scan <span class="keyword">for</span> Oracle <span class="keyword">ASM</span> disks <span class="keyword">on</span> boot (y/n) [y]: y</div><div class="line">Writing Oracle <span class="keyword">ASM</span> <span class="keyword">library</span> driver configuration: done</div></pre></td></tr></table></figure></p>
<h3 id="启动oracleasm服务"><a href="#u542F_u52A8oracleasm_u670D_u52A1" class="headerlink" title="启动oracleasm服务"></a>启动oracleasm服务</h3><p>执行如下命令启动oracleasm服务<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/etc/i</span>nit.d<span class="regexp">/oracleasm enable</span></div></pre></td></tr></table></figure></p>
]]></content>
      
        <categories>
            
            <category> Tech </category>
            
            <category> Configuration </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Linux </tag>
            
            <tag> yum </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle RAC 12cR2安装手册(2)--环境的准备]]></title>
      <url>/2017/06/29/Oracle-RAC-12cR2%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C-2-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%87%86%E5%A4%87/</url>
      <content type="html"><![CDATA[<!-- toc -->
<ul>
<li><a href="#配置操作系统">配置操作系统</a><ul>
<li><a href="#安装依赖包">安装依赖包</a></li>
<li><a href="#配置内核参数">配置内核参数</a></li>
<li><a href="#关闭ntp">关闭NTP</a></li>
<li><a href="#配置pam">配置PAM</a></li>
<li><a href="#关闭selinux">关闭SELinux</a></li>
<li><a href="#创建用户-组-文件夹">创建用户、组、文件夹</a></li>
<li><a href="#配置环境变量">配置环境变量</a><ul>
<li><a href="#配置grid用户的环境变量">配置grid用户的环境变量</a></li>
<li><a href="#配置oracle的环境变量">配置oracle的环境变量</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#配置网络">配置网络</a><ul>
<li><a href="#配置hosts解析">配置hosts解析</a></li>
<li><a href="#关闭虚拟网卡">关闭虚拟网卡</a></li>
<li><a href="#禁用zeroconf">禁用ZEROCONF</a></li>
</ul>
</li>
<li><a href="#配置ssh互信">配置SSH互信</a></li>
<li><a href="#配置存储">配置存储</a><ul>
<li><a href="#安装asmlib">安装ASMLIB</a></li>
<li><a href="#创建分区">创建分区</a></li>
<li><a href="#创建磁盘组">创建磁盘组</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<blockquote>
<p>注：<br>除特殊注明外，本文所有命令均使用root用户执行。</p>
</blockquote>
<h3 id="配置操作系统"><a href="#u914D_u7F6E_u64CD_u4F5C_u7CFB_u7EDF" class="headerlink" title="配置操作系统"></a>配置操作系统</h3><h4 id="安装依赖包"><a href="#u5B89_u88C5_u4F9D_u8D56_u5305" class="headerlink" title="安装依赖包"></a>安装依赖包</h4><p>node01和node02上分别执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install binutils compat-libcap1 compat-libstdc++ compat-libstdc++-33 e2fsprogs e2fsprogs-libs glibc glibc glibc-devel glibc-devel ksh libgcc libgcc libstdc++ libstdc++ libstdc++-devel libstdc++-devel libaio libaio libaio-devel libaio-devel libXtst libXtst libX11 libX11 libXau libXau libxcb libxcb libXi libXi make net-tools nfs-utils sysstat smartmontools</div></pre></td></tr></table></figure></p>
<h4 id="配置内核参数"><a href="#u914D_u7F6E_u5185_u6838_u53C2_u6570" class="headerlink" title="配置内核参数"></a>配置内核参数</h4><p>node01和node02上分别执行<br>编辑/etc/sysctl.conf文件<br><code>vi /etc/sysctl.conf</code><br>添加或修改<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">kernel<span class="selector-class">.shmall</span> = <span class="number">2097152</span></div><div class="line">kernel<span class="selector-class">.shmmax</span> = <span class="number">4294967295</span></div><div class="line">fs<span class="selector-class">.aio-max-nr</span> = <span class="number">1048576</span></div><div class="line">fs<span class="selector-class">.file-max</span> = <span class="number">6815744</span></div><div class="line">kernel<span class="selector-class">.shmmni</span> = <span class="number">4096</span></div><div class="line">kernel<span class="selector-class">.sem</span> = <span class="number">250</span> <span class="number">32000</span> <span class="number">100</span> <span class="number">128</span></div><div class="line">net<span class="selector-class">.ipv4</span><span class="selector-class">.ip_local_port_range</span> = <span class="number">9000</span> <span class="number">65500</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.rmem_default</span> = <span class="number">262144</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.rmem_max</span> = <span class="number">4194304</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.wmem_default</span> = <span class="number">262144</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.wmem_max</span> = <span class="number">1048576</span></div><div class="line">kernel.panic_on_oops=<span class="number">1</span></div></pre></td></tr></table></figure></p>
<p>执行<code>sysctl -p</code>使其生效</p>
<h4 id="关闭ntp"><a href="#u5173_u95EDNTP" class="headerlink" title="关闭NTP"></a>关闭NTP</h4><p>安装Oracle RAC要求各节点间时间同步，本文选用Oracle Cluster Time Synchronization Service进行同步，因而关闭NTP服务。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/sbin<span class="built_in">/service </span>ntpd stop</div><div class="line">chkconfig ntpd off</div><div class="line">mv /etc/ntp.conf /etc/ntp.conf.org</div><div class="line">rm /var/run/ntpd.pid</div></pre></td></tr></table></figure></p>
<h4 id="配置pam"><a href="#u914D_u7F6EPAM" class="headerlink" title="配置PAM"></a>配置PAM</h4><p>node01和node02上分别执行<br>编辑/etc/pam.d/login文件<br><code>vi /etc/pam.d/login</code><br>添加<br><code>session required pam_limits.so</code><br>编辑/etc/security/limits.conf文件<br><code>vi /etc/security/limits.conf</code><br>添加<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@oinstall</span> hard nofile <span class="number">65536</span></div><div class="line"><span class="variable">@oinstall</span> soft nofile <span class="number">10240</span></div><div class="line"><span class="variable">@oinstall</span> hard nproc <span class="number">16384</span></div><div class="line"><span class="variable">@oinstall</span> soft nproc <span class="number">16384</span></div><div class="line"><span class="variable">@oinstall</span> hard stack <span class="number">32768</span></div><div class="line"><span class="variable">@oinstall</span> soft stack <span class="number">10240</span></div><div class="line"><span class="variable">@oinstall</span> soft memlock <span class="number">475188563</span></div><div class="line"><span class="variable">@oinstall</span> hard memlock <span class="number">475188563</span></div></pre></td></tr></table></figure></p>
<h4 id="关闭selinux"><a href="#u5173_u95EDSELinux" class="headerlink" title="关闭SELinux"></a>关闭SELinux</h4><p>node01和node02上分别执行<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setenforce <span class="number">0</span></div><div class="line">vi <span class="regexp">/etc/</span>sysconfig<span class="regexp">/selinux</span></div></pre></td></tr></table></figure></p>
<p>修改为<br><code>SELINUX=disabled</code></p>
<h4 id="创建用户-组-文件夹"><a href="#u521B_u5EFA_u7528_u6237_u3001_u7EC4_u3001_u6587_u4EF6_u5939" class="headerlink" title="创建用户、组、文件夹"></a>创建用户、组、文件夹</h4><p>node01和node02上分别执行<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">groupadd -g <span class="number">1000</span> oinstall</div><div class="line">groupadd -g <span class="number">1020</span> asmadmin</div><div class="line">groupadd -g <span class="number">1021</span> asmdba</div><div class="line">groupadd -g <span class="number">1022</span> asmoper</div><div class="line">groupadd -g <span class="number">1031</span> dba</div><div class="line">groupadd -g <span class="number">1032</span> oper</div><div class="line">useradd -u <span class="number">1100</span> -g oinstall -G asmadmin,asmdba,asmoper,oper,dba grid</div><div class="line">useradd -u <span class="number">1101</span> -g oinstall -G dba,asmdba,oper oracle</div><div class="line">mkdir -p <span class="regexp">/u01/</span>software</div><div class="line">mkdir -p <span class="regexp">/u01/</span>app<span class="regexp">/12.2.0/</span>grid</div><div class="line">mkdir -p <span class="regexp">/u01/</span>app/grid</div><div class="line">mkdir -p <span class="regexp">/u01/</span>app/oracle</div><div class="line">chown -R <span class="string">grid:</span>oinstall /u01</div><div class="line">chown <span class="string">oracle:</span>oinstall <span class="regexp">/u01/</span>app/oracle</div><div class="line">chmod -R <span class="number">775</span> <span class="regexp">/u01/</span></div></pre></td></tr></table></figure></p>
<p>将下面的两个文件分别上传至node01的/u01/software文件夹下<br>linuxx64_12201_grid_home.zip<br>linuxx64_12201_database.zip<br>解压并修改对应权限<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cd <span class="regexp">/u01/</span>software</div><div class="line">unzip linuxx64_12201_grid_home.zip -d <span class="regexp">/u01/</span>app<span class="regexp">/12.2.0/</span>grid/</div><div class="line">chown -R <span class="string">grid:</span>oinstall <span class="regexp">/u01/</span>app<span class="regexp">/12.2.0/</span>grid/</div><div class="line">unzip linuxx64_12201_database.zip</div><div class="line">chown <span class="string">oracle:</span>oinstall database</div></pre></td></tr></table></figure></p>
<h4 id="配置环境变量"><a href="#u914D_u7F6E_u73AF_u5883_u53D8_u91CF" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><h5 id="配置grid用户的环境变量"><a href="#u914D_u7F6Egrid_u7528_u6237_u7684_u73AF_u5883_u53D8_u91CF" class="headerlink" title="配置grid用户的环境变量"></a>配置grid用户的环境变量</h5><p>node01上执行<br>编辑/home/grid/.bash_profile文件<br><code>vi /home/grid/.bash_profile</code><br>添加<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_SID</span>=+ASM1</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">TMP</span>=/tmp</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_BASE</span>=/u01/app/grid</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_HOME</span>=/u01/app/12.2.0/grid</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ORACLE_HOME</span>/bin:/usr/sbin:$PATH</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LD_LIBRARY_PATH</span>=<span class="variable">$ORACLE_HOME</span>/lib:/lib:/usr/lib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">CLASSPATH</span>=<span class="variable">$ORACLE_HOME</span>/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LC_ALL</span>=en_US.UTF-8</div></pre></td></tr></table></figure></p>
<p>node02上执行<br>编辑/home/grid/.bash_profile文件<br><code>vi /home/grid/.bash_profile</code><br>添加<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_SID</span>=+ASM2</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">TMP</span>=/tmp</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_BASE</span>=/u01/app/grid</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_HOME</span>=/u01/app/12.2.0/grid</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ORACLE_HOME</span>/bin:/usr/sbin:$PATH</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LD_LIBRARY_PATH</span>=<span class="variable">$ORACLE_HOME</span>/lib:/lib:/usr/lib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">CLASSPATH</span>=<span class="variable">$ORACLE_HOME</span>/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LC_ALL</span>=en_US.UTF-8</div></pre></td></tr></table></figure></p>
<h5 id="配置oracle的环境变量"><a href="#u914D_u7F6Eoracle_u7684_u73AF_u5883_u53D8_u91CF" class="headerlink" title="配置oracle的环境变量"></a>配置oracle的环境变量</h5><p>node01上执行<br>编辑/home/oracle/.bash_profile文件<br><code>vi /home/oracle/.bash_profile</code><br>添加<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="builtin-name">export</span> <span class="attribute">TMP</span>=/tmp</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_BASE</span>=/u01/app/oracle</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_HOME</span>=<span class="variable">$ORACLE_BASE</span>/product/12.2.0/dbhome_1</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_SID</span>=orcl1</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ORACLE_HOME</span>/bin:/usr/sbin:$ORACLE_HOME/OPatch:$PATH</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LD_LIBRARY_PATH</span>=<span class="variable">$ORACLE_HOME</span>/lib:/lib:/usr/lib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">CLASSPATH</span>=<span class="variable">$ORACLE_HOME</span>/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">NLS_LANG</span>=AMERICAN_AMERICA.UTF8</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LC_ALL</span>=en_US.UTF-8</div></pre></td></tr></table></figure></p>
<p>node02上执行<br>编辑/home/oracle/.bash_profile文件<br><code>vi /home/oracle/.bash_profile</code><br>添加<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="builtin-name">export</span> <span class="attribute">TMP</span>=/tmp</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_BASE</span>=/u01/app/oracle</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_HOME</span>=<span class="variable">$ORACLE_BASE</span>/product/12.2.0/dbhome_1</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">ORACLE_SID</span>=orcl2</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ORACLE_HOME</span>/bin:/usr/sbin:$ORACLE_HOME/OPatch:$PATH</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LD_LIBRARY_PATH</span>=<span class="variable">$ORACLE_HOME</span>/lib:/lib:/usr/lib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">CLASSPATH</span>=<span class="variable">$ORACLE_HOME</span>/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">NLS_LANG</span>=AMERICAN_AMERICA.UTF8</div><div class="line"><span class="builtin-name">export</span> <span class="attribute">LC_ALL</span>=en_US.UTF-8</div></pre></td></tr></table></figure></p>
<h3 id="配置网络"><a href="#u914D_u7F6E_u7F51_u7EDC" class="headerlink" title="配置网络"></a>配置网络</h3><h4 id="配置hosts解析"><a href="#u914D_u7F6Ehosts_u89E3_u6790" class="headerlink" title="配置hosts解析"></a>配置hosts解析</h4><p>如<a href="../../23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/#配置第一台虚拟机">Oracle RAC安装手册(1)虚拟机的准备</a>中所述，Oracle RAC的安装至少需要两块网卡。前文已完成网卡的添加和IP的配置，此处介绍IP的规划。</p>
<table class="table table-striped">
<thead>
<tr>
<th style="text-align:center">Name</th>
<th style="text-align:center">node01</th>
<th style="text-align:center">node02</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Public IP</td>
<td style="text-align:center">172.16.10.11</td>
<td style="text-align:center">172.16.10.12</td>
</tr>
<tr>
<td style="text-align:center">Private IP</td>
<td style="text-align:center">192.168.10.11</td>
<td style="text-align:center">192.168.10.12</td>
</tr>
<tr>
<td style="text-align:center">Virtual IP</td>
<td style="text-align:center">172.16.10.21</td>
<td style="text-align:center">172.16.10.22</td>
</tr>
<tr>
<td style="text-align:center">SCAN IP</td>
<td style="text-align:center">172.16.10.31</td>
<td style="text-align:center">172.16.10.32</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">172.16.10.33</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>

<blockquote>
<p>注：</p>
<ol>
<li>Public IP, Virtual IP, SCAN IP必须在同一个子网下；</li>
<li>SCAN IP推荐配置三个，最少一个。</li>
</ol>
</blockquote>
<p>node01和node02上分别执行<br>编辑/etc/hosts文件<br><code>vi /etc/hosts</code><br>添加<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"># <span class="selector-tag">Public</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.11</span> <span class="selector-tag">node01</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span> <span class="selector-tag">node01</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.12</span> <span class="selector-tag">node02</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span> <span class="selector-tag">node02</span></div><div class="line"># <span class="selector-tag">Private</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.10</span><span class="selector-class">.11</span>   <span class="selector-tag">node01-priv</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span>   <span class="selector-tag">node01-priv</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.10</span><span class="selector-class">.12</span>   <span class="selector-tag">node02-priv</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span>   <span class="selector-tag">node02-priv</span></div><div class="line"># <span class="selector-tag">Virtual</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.21</span>   <span class="selector-tag">node01-vip</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span>    <span class="selector-tag">node01-vip</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.22</span>   <span class="selector-tag">node02-vip</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span>    <span class="selector-tag">node02-vip</span></div><div class="line"># <span class="selector-tag">SCAN</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.31</span>   <span class="selector-tag">nodes-scan</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span> <span class="selector-tag">nodes-scan</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.32</span>   <span class="selector-tag">nodes-scan</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span> <span class="selector-tag">nodes-scan</span></div><div class="line">172<span class="selector-class">.16</span><span class="selector-class">.10</span><span class="selector-class">.33</span>   <span class="selector-tag">nodes-scan</span><span class="selector-class">.myCluster</span><span class="selector-class">.com</span> <span class="selector-tag">nodes-scan</span></div></pre></td></tr></table></figure></p>
<h4 id="关闭虚拟网卡"><a href="#u5173_u95ED_u865A_u62DF_u7F51_u5361" class="headerlink" title="关闭虚拟网卡"></a>关闭虚拟网卡</h4><p>如果安装了libvirt，需要关闭虚拟网卡功能。<br>node01和node02分别执行<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">virsh net-list</div><div class="line">virsh net-destroy<span class="built_in"> default</span></div><div class="line">virsh net-undefine<span class="built_in"> default</span></div><div class="line">service libvirtd restart</div></pre></td></tr></table></figure></p>
<h4 id="禁用zeroconf"><a href="#u7981_u7528ZEROCONF" class="headerlink" title="禁用ZEROCONF"></a>禁用ZEROCONF</h4><p>node01和node02分别执行<br>编辑/etc/sysconfig/network文件<br><code>vi /etc/sysconfig/network</code><br>添加<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">NOZEROCONF</span>=<span class="literal">yes</span></div></pre></td></tr></table></figure></p>
<h3 id="配置ssh互信"><a href="#u914D_u7F6ESSH_u4E92_u4FE1" class="headerlink" title="配置SSH互信"></a>配置SSH互信</h3><p>使用grid用户登录node01或切换到grid用户，分别为grid用户和oracle用户配置SSH互信。</p>
<blockquote>
<p>注：<br>配置过程中，需要输入oracle和grid的密码，可提前为其设置密码。</p>
</blockquote>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd /u01/app/<span class="number">12.2</span>.<span class="number">0</span>/grid/oui/prov/resources/scripts/</div><div class="line">./sshUserSetup.sh -hosts <span class="string">"node01 node02"</span> -<span class="keyword">user</span> <span class="title">grid</span>  -advanced -noPromptPassphrase</div><div class="line">./sshUserSetup.sh -hosts <span class="string">"node01 node02"</span> -<span class="keyword">user</span> <span class="title">oracle</span>  -advanced -noPromptPassphrase</div></pre></td></tr></table></figure>
<p>使用grid用户登录node01验证<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ssh node02 <span class="built_in">date</span></div><div class="line">ssh node02-priv <span class="built_in">date</span></div></pre></td></tr></table></figure></p>
<p>使用grid用户登录node02验证<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ssh node01 <span class="built_in">date</span></div><div class="line">ssh node01-priv <span class="built_in">date</span></div></pre></td></tr></table></figure></p>
<p>使用oracle用户登录node01验证<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ssh node02 <span class="built_in">date</span></div><div class="line">ssh node02-priv <span class="built_in">date</span></div></pre></td></tr></table></figure></p>
<p>使用oracle用户登录node02验证<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ssh node01 <span class="built_in">date</span></div><div class="line">ssh node01-priv <span class="built_in">date</span></div></pre></td></tr></table></figure></p>
<h3 id="配置存储"><a href="#u914D_u7F6E_u5B58_u50A8" class="headerlink" title="配置存储"></a>配置存储</h3><p>本文选用ASM作为存储方案，前文<a href="../../23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/#添加共享磁盘">Oracle RAC安装手册(1)虚拟机的准备</a>中已添加共享磁盘，接下来介绍如何配置ASM。</p>
<blockquote>
<p>注：</p>
<ol>
<li>本文使用的磁盘为/dev/sdb，受限磁盘空间，OCR_VOT_GIMR磁盘组和DATA磁盘组的冗余类型都选择为External。/dev/sdb共60G空间，创建1个40G分区分配给OCR_VOT_GIMR磁盘组使用，创建一个20G分区分配至DATA磁盘组。</li>
<li>本文仅演示安装过程，关于ASM磁盘的大小<a href="https://docs.oracle.com/database/122/CWLIN/oracle-clusterware-storage-space-requirements.htm#CWLIN-GUID-97FD5D40-A65B-4575-AD12-06C491AF3F41" target="_blank" rel="external">官方文档</a>有具体的最小限制，实际生产中请注意。</li>
</ol>
</blockquote>
<h4 id="安装asmlib"><a href="#u5B89_u88C5ASMLIB" class="headerlink" title="安装ASMLIB"></a>安装ASMLIB</h4><p>参考<a href="../../../07/04/Oracle-Linux下安装ASMLIB/">Oracle Linux下安装ASMLIB</a>,分别在node01和node02安装ASMLIB,并配置、启动oracleasm服务。</p>
<h4 id="创建分区"><a href="#u521B_u5EFA_u5206_u533A" class="headerlink" title="创建分区"></a>创建分区</h4><p>在node01上执行<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fdisk <span class="regexp">/dev/</span>sdb</div></pre></td></tr></table></figure></p>
<p>创建过程参考如下：<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">[root@node01 ~]# fdisk /dev/sdb</div><div class="line">Device contains neither a valid DOS partition table, nor Sun, SGI <span class="keyword">or</span> OSF disklabel</div><div class="line">Building a <span class="keyword">new</span> DOS disklabel <span class="keyword">with</span> disk identifier <span class="number">0</span>xc379a890.</div><div class="line">Changes will remain <span class="keyword">in</span> memory only, <span class="keyword">until</span> you decide <span class="keyword">to</span> <span class="keyword">write</span> them.</div><div class="line">After that, <span class="keyword">of</span> course, the previous content won<span class="string">'t be recoverable.</span></div><div class="line">Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)</div><div class="line">WARNING: DOS-compatible mode is deprecated. It's strongly recommended <span class="keyword">to</span></div><div class="line">         switch off the mode (command <span class="string">'c'</span>) <span class="keyword">and</span> change display units <span class="keyword">to</span></div><div class="line">         sectors (command <span class="string">'u'</span>).</div><div class="line">Command (m <span class="keyword">for</span> help): n</div><div class="line">Command action</div><div class="line">   e   extended</div><div class="line">   p   primary partition (<span class="number">1</span>-<span class="number">4</span>)</div><div class="line">p</div><div class="line">Partition number (<span class="number">1</span>-<span class="number">4</span>): <span class="number">1</span></div><div class="line">First cylinder (<span class="number">1</span>-<span class="number">7832</span>, <span class="keyword">default</span> <span class="number">1</span>):</div><div class="line"><span class="keyword">Using</span> <span class="keyword">default</span> value <span class="number">1</span></div><div class="line">Last cylinder, +cylinders <span class="keyword">or</span> +size<span class="comment">&#123;K,M,G&#125;</span> (<span class="number">1</span>-<span class="number">7832</span>, <span class="keyword">default</span> <span class="number">7832</span>): +<span class="number">40</span>G</div><div class="line">Command (m <span class="keyword">for</span> help): n</div><div class="line">Command action</div><div class="line">   e   extended</div><div class="line">   p   primary partition (<span class="number">1</span>-<span class="number">4</span>)</div><div class="line">p</div><div class="line">Partition number (<span class="number">1</span>-<span class="number">4</span>): <span class="number">2</span></div><div class="line">First cylinder (<span class="number">5224</span>-<span class="number">7832</span>, <span class="keyword">default</span> <span class="number">5224</span>):</div><div class="line"><span class="keyword">Using</span> <span class="keyword">default</span> value <span class="number">5224</span></div><div class="line">Last cylinder, +cylinders <span class="keyword">or</span> +size<span class="comment">&#123;K,M,G&#125;</span> (<span class="number">5224</span>-<span class="number">7832</span>, <span class="keyword">default</span> <span class="number">7832</span>):</div><div class="line"><span class="keyword">Using</span> <span class="keyword">default</span> value <span class="number">7832</span></div><div class="line">Command (m <span class="keyword">for</span> help): w</div><div class="line">The partition table <span class="keyword">has</span> been altered!</div><div class="line">Calling ioctl() <span class="keyword">to</span> re-<span class="keyword">read</span> partition table.</div><div class="line">Syncing disks.</div></pre></td></tr></table></figure></p>
<blockquote>
<p>注：<br>仅创建分区即可，无需格式化。</p>
</blockquote>
<p>创建完成后，磁盘分区情况如下：<br><img src="/2017/06/29/Oracle-RAC-12cR2安装手册-2-环境的准备/nodes-storage-configure-0.png" alt="nodes-storage-configure" title="nodes-storage-configure"></p>
<h4 id="创建磁盘组"><a href="#u521B_u5EFA_u78C1_u76D8_u7EC4" class="headerlink" title="创建磁盘组"></a>创建磁盘组</h4><p>node01执行如下命令创建磁盘组<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">oracleasm createdisk OCR_VOT_GIMR <span class="regexp">/dev/</span>sdb1</div><div class="line">oracleasm createdisk DATA <span class="regexp">/dev/</span>sdb2</div></pre></td></tr></table></figure></p>
<p>创建过程参考如下</p>
<img src="/2017/06/29/Oracle-RAC-12cR2安装手册-2-环境的准备/nodes-storage-configure-1.png" alt="nodes-storage-configure" title="nodes-storage-configure">
<p>使用<code>oracleasm listdisks</code>查看已创建的磁盘组</p>
<img src="/2017/06/29/Oracle-RAC-12cR2安装手册-2-环境的准备/nodes-storage-configure-3.png" alt="nodes-storage-configure" title="nodes-storage-configure">
<p>创建成功👆🏻<br>node02执行如下命令扫描node01上已创建的磁盘组<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">oracleasm scandisks</span></div></pre></td></tr></table></figure></p>
<p>扫描过程参考如下</p>
<img src="/2017/06/29/Oracle-RAC-12cR2安装手册-2-环境的准备/nodes-storage-configure-2.png" alt="nodes-storage-configure" title="nodes-storage-configure">
<p>使用<code>oracleasm listdisks</code>查看扫描到的磁盘组</p>
<img src="/2017/06/29/Oracle-RAC-12cR2安装手册-2-环境的准备/nodes-storage-configure-4.png" alt="nodes-storage-configure" title="nodes-storage-configure">
<p>扫描成功👆🏻<br>至此，完成了环境的准备工作。<br>下一篇<a href="../../../07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/">Oracle RAC 12cR2安装手册(3)–网格基础设施的安装</a></p>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> RAC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Linux下修改hostname]]></title>
      <url>/2017/06/28/Linux%E4%B8%8B%E4%BF%AE%E6%94%B9hostname/</url>
      <content type="html"><![CDATA[<img src="/2017/06/28/Linux下修改hostname/linux-hostname-configuration-0.png" alt="linux-hostname-configuration" title="linux-hostname-configuration">
<p>查看当前hostname👆🏻<br>使用 <code>hostname yourHostName</code> 命令，临时修改hostname（重启失效）👇🏻<br><img src="/2017/06/28/Linux下修改hostname/linux-hostname-configuration-1.png" alt="linux-hostname-configuration" title="linux-hostname-configuration"><br>修改成功👆🏻<br>编辑 <code>/etc/sysconfig/network</code> 文件，永久修改hostname（重启有效）👇🏻<br><img src="/2017/06/28/Linux下修改hostname/linux-hostname-configuration-2.png" alt="linux-hostname-configuration" title="linux-hostname-configuration"><br>修改HOSTNAME的值并保存👆🏻<br>重启检查👇🏻<br><img src="/2017/06/28/Linux下修改hostname/linux-hostname-configuration-3.png" alt="linux-hostname-configuration" title="linux-hostname-configuration"><br>修改成功👆🏻</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
            <category> System </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Configuration </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Linux下配置静态IP]]></title>
      <url>/2017/06/27/Linux%E4%B8%8B%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81IP/</url>
      <content type="html"><![CDATA[<p>使用ifconfig命令查看当前使用的网卡👇🏻<br><img src="/2017/06/27/Linux下配置静态IP/linux-config-static-ip-0.png" alt="linux-static-ip-configuration" title="linux-static-ip-configuration"><br>当前使用的网卡为eth0👆🏻<br>使用如下命令查看当前网卡的MAC地址👇🏻<br><code>cat /etc/udev/rules.d/70-persistent-net.rules</code><br><img src="/2017/06/27/Linux下配置静态IP/linux-config-static-ip-1.png" alt="linux-static-ip-configuration" title="linux-static-ip-configuration"><br>eth0网卡的MAC地址为08:00:27:44:9e:74👆🏻<br>使用如下命令查看当前网卡的UUID👇🏻<br><code>nmcli co</code><br><img src="/2017/06/27/Linux下配置静态IP/linux-config-static-ip-2.png" alt="linux-static-ip-configuration" title="linux-static-ip-configuration"><br>eth0网卡的UUID为83121414-3da9-49fb-ba1b-ed5441278cba<br>创建或者编辑eth0网卡的脚本文件<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd <span class="regexp">/etc/</span>sysconfig<span class="regexp">/network-scripts/</span></div><div class="line">vi ifcfg-eth0</div></pre></td></tr></table></figure></p>
<p>参考配置如下：<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="attr">DEVICE</span>=eth0</div><div class="line"><span class="attr">HWADDR</span>=<span class="number">08</span>:<span class="number">00</span>:<span class="number">27</span>:<span class="number">44</span>:<span class="number">9</span>e:<span class="number">74</span></div><div class="line"><span class="attr">TYPE</span>=Ethernet</div><div class="line"><span class="attr">UUID</span>=<span class="number">83121414</span>-<span class="number">3</span>da9-<span class="number">49</span>fb-ba1b-ed5441278cba</div><div class="line"><span class="attr">ONBOOT</span>=<span class="literal">yes</span></div><div class="line"><span class="attr">NM_CONTROLLED</span>=<span class="literal">yes</span></div><div class="line"><span class="attr">BOOTPROTO</span>=static</div><div class="line"><span class="attr">IPADDR</span>=<span class="number">172.16</span>.<span class="number">10.11</span></div><div class="line"><span class="attr">GATEWAY</span>=<span class="number">172.16</span>.<span class="number">10.1</span></div><div class="line"><span class="attr">NETMASK</span>=<span class="number">255.255</span>.<span class="number">255.0</span></div><div class="line"><span class="attr">DNS1</span>=<span class="number">8.8</span>.<span class="number">8.8</span></div><div class="line"><span class="attr">DNS2</span>=<span class="number">114.114</span>.<span class="number">114.114</span></div></pre></td></tr></table></figure></p>
<p>注：</p>
<ul>
<li>需将HWADDR和UUID修改为对应值。</li>
</ul>
<p>使用如下命令重启网络<br><code>service network restart</code><br>由于IP的改变此时连接会断开，使用新的IP重新连接即可。<br><img src="/2017/06/27/Linux下配置静态IP/linux-config-static-ip-3.png" alt="linux-static-ip-configuration" title="linux-static-ip-configuration"><br>连接成功，配置完成👆🏻</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
            <category> Network </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Configuration </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle Linux 6.9_x86_64安装手册]]></title>
      <url>/2017/06/23/Oracle-Linux-6-9-x86-64%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/</url>
      <content type="html"><![CDATA[<p>本文介绍了Oracle Linux 6.9的安装过程。</p>
<img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-0.png" alt="oracle-linux-installation" title="oracle-linux-installation">
<p>安装或升级系统👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-1.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>跳过介质检查👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-2.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>安装欢迎界面→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-3.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>安装过程中选择使用英文→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-4.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>选择美式英语键盘→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-5.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>选择基本存储设备→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-6.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>确认丢弃所有数据→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-7.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>输入主机名→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-8.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>选择城市：亚洲/上海→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-9.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>输入root密码→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-10.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>替换已存在的Linux系统→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-11.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>将变更写入磁盘👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-12.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>选择现在自定义→Next👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-13.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>勾选Desktops下的Desktop和X Window System→Next<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-14.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>安装进行中👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-15.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>安装完成→Reboot👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-16.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>配置欢迎页面→Forward👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-17.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>同意证书许可→Forward👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-18.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>稍后注册→Forward👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-19.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>确定稍后连接👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-20.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>Forward👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-21.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>不创建用户→Forward👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-22.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>Yes👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-23.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>启用Kdump→Finish👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-24.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>Yes👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-25.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>OK👆🏻<br><img src="/2017/06/23/Oracle-Linux-6-9-x86-64安装手册/oracle-linux-installation-26.png" alt="oracle-linux-installation" title="oracle-linux-installation"><br>至此，安装及配置全部完成👆🏻</p>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
            <category> System </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle RAC 12cR2安装手册(1)--虚拟机的准备]]></title>
      <url>/2017/06/23/Oracle-RAC-12cR2%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C-1-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%87%86%E5%A4%87/</url>
      <content type="html"><![CDATA[<!-- toc -->
<ul>
<li><a href="#创建第一台虚拟机">创建第一台虚拟机</a></li>
<li><a href="#安装操作系统">安装操作系统</a></li>
<li><a href="#配置第一台虚拟机">配置第一台虚拟机</a><ul>
<li><a href="#配置子网">配置子网</a></li>
<li><a href="#添加网卡">添加网卡</a></li>
<li><a href="#固定ip">固定IP</a></li>
</ul>
</li>
<li><a href="#克隆第二台虚拟机">克隆第二台虚拟机</a></li>
<li><a href="#配置第二台虚拟机">配置第二台虚拟机</a><ul>
<li><a href="#修改主机名">修改主机名</a></li>
<li><a href="#修改ip">修改IP</a></li>
</ul>
</li>
<li><a href="#添加共享磁盘">添加共享磁盘</a><ul>
<li><a href="#为第一台虚拟机添加磁盘">为第一台虚拟机添加磁盘</a></li>
<li><a href="#将磁盘设置为共享磁盘">将磁盘设置为共享磁盘</a></li>
<li><a href="#将共享磁盘添加到第二台虚拟机">将共享磁盘添加到第二台虚拟机</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h3 id="创建第一台虚拟机"><a href="#u521B_u5EFA_u7B2C_u4E00_u53F0_u865A_u62DF_u673A" class="headerlink" title="创建第一台虚拟机"></a>创建第一台虚拟机</h3><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-0.png" alt="node01-creation" title="node01-creation">
<p>Name: node01; Type: Linux; Version: Oracle(64-bit)→Continue👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-1.png" alt="node01-creation" title="node01-creation"><br>Memory size:4096M→Continue👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-2.png" alt="node01-creation" title="node01-creation"><br>Create a virtual hard disk now→Create👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-3.png" alt="node01-creation" title="node01-creation"><br>VDI→Continue👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-4.png" alt="node01-creation" title="node01-creation"><br>Dynamically allocated→Continue👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-5.png" alt="node01-creation" title="node01-creation"><br>Name: node01; Size: 40G→Create👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-creation-6.png" alt="node01-creation" title="node01-creation"><br>done👆🏻</p>
<h3 id="安装操作系统"><a href="#u5B89_u88C5_u64CD_u4F5C_u7CFB_u7EDF" class="headerlink" title="安装操作系统"></a>安装操作系统</h3><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-os-installation-0.png" alt="node01-os-installation" title="node01-os-installation">
<p>Setting👆🏻·<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-os-installation-1.png" alt="node01-os-installation" title="node01-os-installation"><br>Storage→Controller:IDE→Optical Drive👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-os-installation-2.png" alt="node01-os-installation" title="node01-os-installation"><br>选择新的或者添加过的镜像文件，此处为Oracle Linux 6.9_x86_64👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-os-installation-3.png" alt="node01-os-installation" title="node01-os-installation"><br>OK👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-os-installation-4.png" alt="node01-os-installation" title="node01-os-installation"><br>启动👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-os-installation-5.png" alt="node01-os-installation" title="node01-os-installation"><br>启动中👆🏻<br>操作系统的安装步骤省略，可参考<a href="../../23/Oracle-Linux-6-9-x86-64安装手册/">Oracle Linux 6.9_x86_64安装手册</a></p>
<h3 id="配置第一台虚拟机"><a href="#u914D_u7F6E_u7B2C_u4E00_u53F0_u865A_u62DF_u673A" class="headerlink" title="配置第一台虚拟机"></a>配置第一台虚拟机</h3><p>安装Oracle RAC至少需要两块网卡，一块为公用网卡，用于给用户和应用服务器读取数据；另一块为私用网卡，用于内部节点间通讯。另外，虚拟机需要访问互联网以安装必要的依赖包。<br>VitualBox支持多种网络接入模式，默认状态下各种模式中主机、虚拟机以及互联网之间的连通性如下：</p>
<table class="table table-striped">
<thead>
<tr>
<th style="text-align:center">网络接入模式</th>
<th style="text-align:center">主机到虚拟机</th>
<th style="text-align:center">虚拟机到虚拟机</th>
<th style="text-align:center">虚拟机到互联网</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Bridge</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td style="text-align:center">Host-only</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:center">Internal</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:center">NAT</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
</tr>
</tbody>
</table>

<blockquote>
<p>注：</p>
<ol>
<li>Bridge模式下，虚拟机IP受主机是否联网的影响，无法固定，不能很好的模拟真实的网络环境；</li>
<li>Host-only模式下，也可以通过配置使得虚拟机到虚拟机、虚拟机到互联网联通，但较复杂，不推荐。</li>
</ol>
</blockquote>
<p>综上所述，虚拟机需要三块网卡以模拟需要的网络环境：一块Host-only网卡使主机可以访问到虚拟机、一块Internal网卡用于节点间通讯和一块NAT网卡来访问互联网。<br>使用VirtualBox安装虚拟机时，会默认安装一块NAT网卡，因而只需要再添加两块网卡即可。配置方式如下：</p>
<h4 id="配置子网"><a href="#u914D_u7F6E_u5B50_u7F51" class="headerlink" title="配置子网"></a>配置子网</h4><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-4.png" alt="node01-configure" title="node01-configure">
<p>点击VirtualBox菜单栏的偏好设置👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-3.png" alt="node01-configure" title="node01-configure"><br>网络→选择NAT网卡→编辑👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-5.png" alt="node01-configure" title="node01-configure"><br>Network CIDR:10.10.10.0/24→OK👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-6.png" alt="node01-configure" title="node01-configure"><br>接着选择Host-only网卡→编辑👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-7.png" alt="node01-configure" title="node01-configure"><br>设置适配器👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-8.png" alt="node01-configure" title="node01-configure"><br>设置DHCP服务器→OK👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-9.png" alt="node01-configure" title="node01-configure"><br>配置完成→OK👆🏻<br>注：此时需要重启VirtualBox，使配置生效。</p>
<h4 id="添加网卡"><a href="#u6DFB_u52A0_u7F51_u5361" class="headerlink" title="添加网卡"></a>添加网卡</h4><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-0.png" alt="node01-configure" title="node01-configure">
<p>选择node01→设置→网络👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-1.png" alt="node01-configure" title="node01-configure"><br>选择第二个适配器→启用并选择Host-only适配器且选择vboxnet0👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-2.png" alt="node01-configure" title="node01-configure"><br>选择第三个适配器→启用并选择Internal网络且命名为Private IP→OK👆🏻<br>启动虚拟机，点击未连接的网卡使其联网，待所有网卡都连接成功后，查看网络配置<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-10.png" alt="node01-configure" title="node01-configure"><br>ifconfig👆🏻<br>观察到，前两块网卡均已分配至指定子网下，Internal网卡由于未设定子网和DHCP服务器，未获取到IP。</p>
<h4 id="固定ip"><a href="#u56FA_u5B9AIP" class="headerlink" title="固定IP"></a>固定IP</h4><p>尝试在主机中使用Host-only网卡的IP（eth1，172.16.10.3）连接到虚拟机👇🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-11.png" alt="node01-configure" title="node01-configure"><br>连接成功👆🏻<br>参考<a href="../../27/Linux下配置静态IP/">Linux下配置静态IP</a>来固定eth1和eth2网卡的IP（eth0只用来连接互联网无需固定）<br>配置完成后，node01网络配置如下👇🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node01-configure-13.png" alt="node01-configure" title="node01-configure"></p>
<h3 id="克隆第二台虚拟机"><a href="#u514B_u9686_u7B2C_u4E8C_u53F0_u865A_u62DF_u673A" class="headerlink" title="克隆第二台虚拟机"></a>克隆第二台虚拟机</h3><p>克隆第二台虚拟机时，需关闭第一台虚拟机。<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-0.png" alt="node02-clone" title="node02-clone"><br>选择node01右键→克隆👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-1.png" alt="node02-clone" title="node02-clone"><br>虚拟机名设置为node02→克隆👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-2.png" alt="node02-clone" title="node02-clone"><br>等待克隆完成👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-3.png" alt="node02-clone" title="node02-clone"><br>克隆完成👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-4.png" alt="node02-clone" title="node02-clone"><br>启动node02👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-5.png" alt="node02-clone" title="node02-clone"><br>启动成功👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-clone-6.png" alt="node02-clone" title="node02-clone"><br>查看node02的IP👆🏻<br>由于node02是由node01克隆而来，主机名和IP完全与之一致，需修改。</p>
<h3 id="配置第二台虚拟机"><a href="#u914D_u7F6E_u7B2C_u4E8C_u53F0_u865A_u62DF_u673A" class="headerlink" title="配置第二台虚拟机"></a>配置第二台虚拟机</h3><h4 id="修改主机名"><a href="#u4FEE_u6539_u4E3B_u673A_u540D" class="headerlink" title="修改主机名"></a>修改主机名</h4><p>参考<a href="../../28/Linux下修改hostname/">Linux下修改hostname</a>将node02的hostname修改为node02.myCluster.com</p>
<h4 id="修改ip"><a href="#u4FEE_u6539IP" class="headerlink" title="修改IP"></a>修改IP</h4><p>仍旧参考<a href="../../27/Linux下配置静态IP/">Linux下配置静态IP</a>来固定eth1和eth2网卡的IP<br>配置完成后，node02网络配置如下👇🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/node02-configure-0.png" alt="node02-configuration" title="node02-configuration"></p>
<h3 id="添加共享磁盘"><a href="#u6DFB_u52A0_u5171_u4EAB_u78C1_u76D8" class="headerlink" title="添加共享磁盘"></a>添加共享磁盘</h3><p>添加共享磁盘时，需关闭node01和node02。</p>
<h4 id="为第一台虚拟机添加磁盘"><a href="#u4E3A_u7B2C_u4E00_u53F0_u865A_u62DF_u673A_u6DFB_u52A0_u78C1_u76D8" class="headerlink" title="为第一台虚拟机添加磁盘"></a>为第一台虚拟机添加磁盘</h4><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-0.png" alt="nodes-add-share-disk" title="nodes-add-share-disk">
<p>选择node01→设置👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-1.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择存储→添加硬盘👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-2.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>创建新的硬盘👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-3.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择VDI→继续👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-4.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择固定大小→继续👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-5.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>目录选择两个虚拟机的父级目录并命名为asm.vdi，大小设置为60G👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-6.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>创建中👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-7.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>OK👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-8.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>添加完成👆🏻</p>
<h4 id="将磁盘设置为共享磁盘"><a href="#u5C06_u78C1_u76D8_u8BBE_u7F6E_u4E3A_u5171_u4EAB_u78C1_u76D8" class="headerlink" title="将磁盘设置为共享磁盘"></a>将磁盘设置为共享磁盘</h4><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-9.png" alt="nodes-add-share-disk" title="nodes-add-share-disk">
<p>点击VirtualBox菜单栏的文件→虚拟介质管理器👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-10.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择刚创建的磁盘文件→修改👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-11.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>设置磁盘类型为可共享→OK👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-12.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>设置完成👆🏻</p>
<h4 id="将共享磁盘添加到第二台虚拟机"><a href="#u5C06_u5171_u4EAB_u78C1_u76D8_u6DFB_u52A0_u5230_u7B2C_u4E8C_u53F0_u865A_u62DF_u673A" class="headerlink" title="将共享磁盘添加到第二台虚拟机"></a>将共享磁盘添加到第二台虚拟机</h4><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-13.png" alt="nodes-add-share-disk" title="nodes-add-share-disk">
<p>选择node02→设置👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-14.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择存储→添加硬盘👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-15.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择已存在的磁盘👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-16.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>选择上一步中创建的asm.vdi→打开👆🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-17.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>添加完成👆🏻<br>分别启动两台虚拟机，使用<code>fdisk -l</code>查看磁盘是否添加成功👇🏻<br><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-18.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><img src="/2017/06/23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/nodes-add-share-disk-19.png" alt="nodes-add-share-disk" title="nodes-add-share-disk"><br>添加成功👆🏻<br>由于算法的不同，实际大小略有差异，属于正常范围。<br>至此，完成了虚拟机的准备工作。<br>下一篇<a href="../../29/Oracle-RAC-12cR2安装手册-2-环境的准备/">Oracle RAC 12cR2安装手册(2)–环境的准备</a></p>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> RAC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle-RAC-12cR2安装手册]]></title>
      <url>/2017/06/07/Oracle-RAC-12cR2%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/</url>
      <content type="html"><![CDATA[<p>本文介绍了使用VirtualBox安装Oracle RAC 12cR2的过程。</p>
<h3 id="版本声明"><a href="#u7248_u672C_u58F0_u660E" class="headerlink" title="版本声明"></a>版本声明</h3><ul>
<li>VirtualBox: 5.1.22 r115126 (Qt5.6.2)</li>
<li>Linux Distribution: Oracle Linux Server release 6.9</li>
<li>Database: Oracle Database 12c Release 2</li>
</ul>
<p>安装步骤如下：</p>
<ul>
<li><a href="../../23/Oracle-RAC-12cR2安装手册-1-虚拟机的准备/">虚拟机的准备</a></li>
<li><a href="../../29/Oracle-RAC-12cR2安装手册-2-环境的准备/">环境的准备</a></li>
<li><a href="../../../07/05/Oracle-RAC-12cR2安装手册-3-网格基础设施的安装/">网格基础设施的安装</a></li>
<li><a href="../../../07/07/Oracle-RAC-12cR2安装手册-4-数据库软件的安装/">数据库软件的安装</a></li>
<li><a href="../../../07/11/Oracle-RAC-12cR2安装手册-5-数据库实例的创建/">数据库实例的创建</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> Oracle </category>
            
            <category> RAC </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tech </tag>
            
            <tag> Installation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2017/06/05/hello-world/</url>
      <content type="html"><![CDATA[<p>Hello World!</p>
]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Helloword </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
